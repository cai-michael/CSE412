(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){e.exports=n(109)},105:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),u=n.n(c),l=(n(105),n(1)),o=n.n(l),i=n(14),s=n(4),m=n(16),p=n(2),f=(n(107),function(e){var t=e.data,n=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=Object(p.g)(n.current);e.attr("width",1250).attr("height",750);var a=t.map((function(e){return e[0]})),r=Object(p.f)().domain([Object(p.d)(a),Object(p.c)(a)]).range([50,1200]),c=Object(p.e)().domain([0,Object(p.c)(t.map((function(e){return e[2]})))]).range([700,50]).clamp(!0),u=e.selectAll("circle").data(t);u.attr("fill",(function(e){return e[3]})).transition().attr("cx",(function(e){return r(e[0])})).attr("cy",(function(e){return c(e[2])})).attr("r",3),u.enter().append("circle").attr("fill",(function(e){return e[3]})).transition().attr("cx",(function(e){return r(e[0])})).attr("cy",(function(e){return c(e[2])})).attr("r",3),u.exit().transition().duration(5).remove();var l=Object(p.a)().scale(r).ticks(p.h.every(1));e.select("g#axisBottom").transition().attr("class","axis").attr("transform","translate(0, ".concat(700,")")).call(l);var o=Object(p.b)().scale(c);e.select("g#axisLeft").transition().attr("class","axis").attr("transform","translate(".concat(50,", 0)")).call(o)}),[t]),r.a.createElement("svg",{ref:n},r.a.createElement("g",{id:"axisBottom"}),r.a.createElement("g",{id:"axisLeft"}))}),y=(n(108),function(e,t,n){return fetch(e,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t},body:JSON.stringify(n)}).then((function(e){return e.json()}))}),d=function(e,t){return y(e,t,{queryType:"findAllCountyNames",parameters:{}})},b=function(e,t){return y(e,t,{queryType:"findAllStateNames",parameters:{}})},v=function(e){var t=e.items,n=e.setItems;return r.a.createElement("form",null,t&&t.map((function(e){return r.a.createElement(a.Fragment,{key:e.name},r.a.createElement("label",null,r.a.createElement("input",{name:e.name,type:"radio",checked:e.checked,onChange:(c=e.name,function(e){return n(t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{checked:e.name===c})})))})}),e.name),r.a.createElement("br",null));var c})))},O=function(e){return"O3"===e?"orange":"CO"===e?"blue":"SO2"===e?"red":"NO2"===e?"brown":"black"},h=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)([]),l=Object(s.a)(u,2),m=l[0],p=l[1],h=Object(a.useState)([]),j=Object(s.a)(h,2),E=j[0],g=j[1],T=Object(a.useState)([]),x=Object(s.a)(T,2),k=x[0],S=x[1],w=Object(a.useState)([{name:"site and type",queryType:"pollutantBySiteAndType",checked:!0},{name:"county and type",queryType:"pollutantByCountyAndType",checked:!1},{name:"state and type",queryType:"pollutantByStateAndType",checked:!1}]),q=Object(s.a)(w,2),A=q[0],B=q[1],C=Object(a.useState)([]),I=Object(s.a)(C,2),N=I[0],F=I[1],D="https://8rn8ucbcrh.execute-api.us-east-1.amazonaws.com/default/AirQualityDatabaseCalls",J="M4idDxUR8w54qS9xCtVE93C9G1oiarVkajcZ8Vfq",V=function(e){return e.map((function(e,t){return{name:e[0],checked:0===t}}))};Object(a.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.t1=V,e.next=4,y(D,J,{queryType:"findAllSiteNames",parameters:{}});case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.t4=p,e.t5=V,e.next=11,d(D,J);case 11:return e.t6=e.sent,e.t7=(0,e.t5)(e.t6),(0,e.t4)(e.t7),e.t8=g,e.t9=V,e.next=18,b(D,J);case 18:return e.t10=e.sent,e.t11=(0,e.t9)(e.t10),(0,e.t8)(e.t11),e.t12=S,e.t13=V,e.next=25,Promise.resolve([["O3"],["CO"],["SO2"],["NO2"]]);case 25:e.t14=e.sent,e.t15=(0,e.t13)(e.t14),(0,e.t12)(e.t15);case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[D,J]);var L=function(e){return null===e||void 0===e?void 0:e.filter((function(e){return null===e||void 0===e?void 0:e.checked}))[0]};return Object(a.useEffect)((function(){(function(){var e=Object(i.a)(o.a.mark((function e(){var t,a,r,c,u,l,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(t=L(A))||void 0===t?void 0:t.queryType,p=null===(a=L(n))||void 0===a?void 0:a.name,f=null===(r=L(m))||void 0===r?void 0:r.name,d=null===(c=L(E))||void 0===c?void 0:c.name,b=null===(u=L(k))||void 0===u?void 0:u.name,l="pollutantBySiteAndType"===o?{queryType:o,parameters:{city:p,pollutant:b}}:"pollutantByCountyAndType"===o?{queryType:o,parameters:{county:f,pollutant:b}}:"pollutantByStateAndType"===o?{queryType:o,parameters:{state:d,pollutant:b}}:void 0,!(0===Object.values(l.parameters).filter((function(e){return null===e||void 0===e})).length)){e.next=8;break}return e.next=5,y(D,J,l);case 5:i=e.sent,s=i.map((function(e){return 3===e.length?[new Date(e[0]),e[1],e[2],O(e[1])]:[new Date(e[0]),e[2],e[3],O(e[2])]})),F(s);case 8:case"end":return e.stop()}var o,p,f,d,b}),e)})));return function(){return e.apply(this,arguments)}})()()}),[A,n,m,E,k,D,J]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{items:A,setItems:B}),r.a.createElement("br",null),"pollutantBySiteAndType"===L(A).queryType&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{items:n,setItems:c}),r.a.createElement("br",null)),"pollutantByCountyAndType"===L(A).queryType&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{items:m,setItems:p}),r.a.createElement("br",null)),"pollutantByStateAndType"===L(A).queryType&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{items:E,setItems:g}),r.a.createElement("br",null)),r.a.createElement(v,{items:k,setItems:S}),r.a.createElement("br",null),r.a.createElement(f,{data:N}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.ffbde687.chunk.js.map